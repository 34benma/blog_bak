---
title: 软件开发日常思考(二)
date: 2016-11-08 22:07:00
tags: 
 - 软件开发
 - IT生涯
 - 随笔
categories: 软件开发日常
---
继续[上一篇](http://wantedonline.cn/2016/08/20/20160820-1/)的话题。上一篇谈到了单元测试和团队代码规范问题.事实上到目前为止，我还没有碰到过一个团队对单元测试有过高的要求。我碰到的大部分团队可以说是对单元测试没有要求。这也和目前大部分开发团队碰到的现实情况是相符合的，开发的时间以及团队对代码的质量没有太多的要求。功能为王，实现功能就好，至于可维护性，可读性，可拓展性等等这些问题从来不考虑。这一篇我想谈一谈我对程序员代码质量的思考。

<!--more-->

很感恩和很幸运，我毕业后第一家公司是华为。为什么这么说呢？在大学的时候，我接触的项目和学到的东西，基本都是书上的。读了很多关于代码质量，代码风格以及软件工程理论性的东西。而真正巩固和实践是从工作开始的。入职华为前以及入职后新员工时期，大部分是培训。这里我从华为学到的两个重要的东西就是下面这两点。

<h2>以客户为中心</h2>

所有新员工入职华为大队培训一定有一堂非常重要的课就是讲华为的企业文化--以客户为中心，以奋斗者为本。

作为一个研发人员，我们不可能接触到一线客户。当时我所在的大部门(2012实验室)是一个SBG(Service Business Group)，我们服务的对象是产品线的兄弟。我学到的第一个理念是我们的客户是我们的上一道工序。

严格来说，无论在什么时候，对待任何人以及对待任何事，如果能够真正以客户为中心，也就是以服务好上一道工序为起点，那么很多事情都会有一个比较好的结果。

这个和我想讲的软件开发有什么关系呢？

软件开发是一个团队合作的活动。如果团队比较小，可能一个人就负责一个模块甚至一个项目。如果团队比较大，我们很多时候需要写一些公共接口给其他人用。这时候就有一个沟通和合作的问题。

过去我的经验是，谁写的接口谁负责维护。因此，如果只为了省事图个简单，没有任何接口doc说明也没有约定一个编码规范，很有可能就要出问题。比如说接口返回数据问题。如果返回了错误数据或者空指针等就是接口编写者的问题。而不应该要求使用者去做参数校验来避免踩坑。这一点我认为就是一个客户为中心的问题。

当然，在这一点上，过去的两年多，我一直在努力。我也看到了自己从一个经常犯错误的新手慢慢成长为一个比较少的犯错误的老油条。在这条路上，我还有很多事情可以做。

<h2>代码质量--程序员的尊严</h2>

软件开发是一个非常复杂的团队合作活动。在这项活动里，我比较认同两个东西。

短板理论

项目成功或失败不是一个或两个比较牛掰的人能决定得了的。取决于团队的整体水平以及团队中的短板。如果一个团队有比较好的编码规范以及90%的人都有较强的软件工程思想和编码水平，那么剩下的10%的短板也会跟着团队逐渐成长，最终整个团队的作战能力都能提升上去。开发出来的代码质量一定不会太低。

破窗理论

如果项目从一开始就向坏的方向发展，比如代码混乱，隐藏了很多潜在的安全问题。最后发展到最后一定会越来越坏，最终可能在某个重要的时间点爆发，然后彻底蹦了。因此，从项目一开始就保持一种比较严格的要求我觉得是一个比较好的做法。

这两个东西和主题代码质量的关系。

很多的时候，如果我们不注重这两点，任有项目代码做布朗运动，可能最终导致的结果是很不可控的。也许我们目前的资源以及条件，是功能为主，不要考虑网络资源，内存资源，CPU资源，安全问题等。但是最终当出现问题的时候已经不可控了，只能推到重来了。这就是一个失败的项目。

因此，作为程序员，珍惜每一点内存，即便是一个Java程序员，即便我们有非常足够的内存可使用；珍视每一点性能提升，时间复杂度的下降，空间复杂度的下降；保持一套可读性，可维护性高的代码风格和命名规范是极其重要的。

我们的代码写完之后很有可能是其他人维护，这时候别人的体验就是代码质量的体现，就是程序员尊严的体现，

<h2>总结</h2>

软件开发是一项复杂的活动。是一项团队合作，团队整体作战能力要求非常高的活动。因此，有时候项目的成败从团队水平就决定了。有时候可能一年两年看不出来问题，但当真正出现问题的时候已经无力回天了。而最初那批创造原始代码的人可能已经不在这里了。

